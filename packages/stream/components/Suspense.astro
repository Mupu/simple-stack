---
import type { LocalsWithStreamInternals } from "./types";

const slotPromise = Astro.slots.render('default');

const { stream } =  Astro.locals as LocalsWithStreamInternals;
const id = stream.components.length;
stream.components.push(slotPromise);
---

<simple-suspense data-suspense-id={id}>
  <slot name="fallback" />
</simple-suspense>
